<!doctype html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% set title = 'Ring.nz - Find Your Perfect Ring' %}
    {% set desc = 'Find perfect rings from Pascoes, Micheal Hill, Swarovski, Pandora and more.' %}
    {% set tags = 'ring, rings, engagement rings, wedding rings, gold rings, diamond rings' %}
    {% set image = '/images/ring512-rotated.png' %}
    {% if ring %}
        {% set title = ring.title %}
        {% set desc = ring.description %}
        {% set tags = ring.tags | join(', ') %}
        {% set image = 'http://cdn.ring.nz/' + zutils.urlencode(fixtures.getCompanyById(ring.company_id).name) + '/' +
            ring.urltitle + '.jpg' %}

    {% endif %}
    <title>{{ title }}</title>
    <meta name="description"
          content="{{ desc }}">

    <meta name="keywords"
          content="{{ tags }}">
    <meta property="og:title" content="{{ title }}">
    <meta property="og:description"
          content="{{ desc }}">
    <meta property="og:image"
          content="{{ image }}">

    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-194x194.png" sizes="194x194">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">


    <link rel="stylesheet" href="/bower_components/Justified-Gallery/dist/css/justifiedGallery.css">
    <link rel="stylesheet" href="/bower_components/jquery-nstSlider/dist/jquery.nstSlider.min.css">

    <!-- INLINED -->
    <link rel="stylesheet" href="./../dist/styles/main.css" is="custom-style" inline>

    <!-- build:js /bower_components/webcomponentsjs/webcomponents.min.js -->
    <script src="/bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <!-- endbuild -->

    <script src="/bower_components/jquery/dist/jquery.min.js"></script>

    <script src="/bower_components/Justified-Gallery/dist/js/jquery.justifiedGallery.js"></script>
    <script src="/bower_components/typeahead.js/dist/typeahead.jquery.min.js"></script>
    <script src="/bower_components/jquery-nstSlider/dist/jquery.nstSlider.js"></script>
    <script src="/bower_components/underscore/underscore-min.js"></script>
    <script src="/bower_components/backbone/backbone-min.js"></script>

    <script src="/bower_components/nunjucks/browser/nunjucks-slim.min.js"></script>


    <script src="/scripts/jquery.ba-throttle-debounce.min.js"></script>

    <script src="/scripts/templates/templates.js"></script>
    <script>
        nunjucks.configure({autoescape: true});
    </script>
    <script src="/scripts/fixtures.js"></script>
    <script>
        viewState = (function () {
            'use strict';
            var self = {};

            self.minPrice = 0;
            self.maxPrice = fixtures.priceHistogram[fixtures.priceHistogram.length - 1];
            self.company = 'all';
            self.search = '';


            self.getData = function () {
                var searchData = {};
                if (self.minPrice !== 0) {
                    searchData.minPrice = self.minPrice;
                }
                if (self.maxPrice !== fixtures.priceHistogram[fixtures.priceHistogram.length - 1]) {
                    searchData.maxPrice = self.maxPrice;
                }
                if (self.company !== 'all') {
                    searchData.company = self.company;
                }
                if (self.search !== '') {
                    searchData.search = self.search;
                }

                return searchData;
            };

            self.changeData = function (newData) {
                var hasChanged = false;
                if (newData.company && newData.company != self.company) {
                    self.company = newData.company;
                    hasChanged = true;
                }
                if (newData.minPrice && newData.minPrice != self.minPrice) {
                    self.minPrice = newData.minPrice;
                    hasChanged = true;
                }
                if (newData.maxPrice && newData.maxPrice != self.maxPrice) {
                    self.maxPrice = newData.maxPrice;
                    hasChanged = true;
                }
                if (newData.search && newData.search != self.search) {
                    self.search = newData.search;
                    hasChanged = true;
                }

                return hasChanged;
            };
            return self;

        })();

    </script>

    <!-- will be replaced with elements/elements.vulcanized.html -->
    <link rel="import" href="/elements/elements.html">
    <!-- endreplace-->
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-63361125-1', 'auto');
        ga('send', 'pageview');

    </script>

</head>

<body unresolved fullbleed layout vertical>
<template is="dom-bind" id="app">

    <paper-drawer-panel>

        <paper-header-panel drawer>

            <!-- Drawer Toolbar -->
            <paper-toolbar class="default-toolbar">
                <img src="/mstile-70x70.png" width="70" height="70" alt="Ring Logo">

                <h1>Ring</h1>
            </paper-toolbar>

            <!-- Drawer Content -->

            <paper-item class="price-range">
                <iron-icon icon="payment" class="padded-icon"></iron-icon>
                Price range
            </paper-item>

            <div id="price-range" class="nstSlider" data-range_min="0" data-range_max="20"
                 data-cur_min="0" data-cur_max="20">

                <div class="bar"></div>
                <core-tooltip class="grip-label leftLabel" label="text" position="top" role="tooltip" tabindex="0" show
                              large>
                </core-tooltip>
                <div class="leftGrip">

                </div>
                <core-tooltip class="grip-label rightLabel" label="text" position="top" role="tooltip" tabindex="0" show
                              large>
                </core-tooltip>
                <div class="rightGrip">
                </div>
            </div>
            <paper-item>
                <iron-icon icon="account-balance" class="padded-icon"></iron-icon>
                Companies
            </paper-item>
            <paper-radio-group id="companies-menu">
                <paper-radio-button name="pascoes">Pascoes</paper-radio-button>
                <paper-radio-button name="micheal-hill">Micheal Hill</paper-radio-button>
                <paper-radio-button name="tiffany">Tiffany</paper-radio-button>
            </paper-radio-group>


            <div class="sidebar-ad">
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- ring responsive ad -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-7026363262140448"
                     data-ad-slot="9800560950"
                     data-ad-format="auto"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>


        </paper-header-panel>

        <!-- Main -->
        <paper-header-panel id="main-header-panel" main>

            <!-- Main Toolbar -->
            <paper-toolbar class="main-core-toolbar">
                <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
                <h2>All Rings</h2>

                <div class="right-bar">
                    <input id="searchbar" class="typeahead" type="text" placeholder="Search Rings" autofocus
                           autocomplete="off">
                </div>
            </paper-toolbar>

            <!-- Main Content -->
            <div id="gallery-tiles">
                {% include 'shared/rings.jinja2' %}
            </div>
            <div class="gallery-load-more">
                <paper-button raised class="load-more">Load More</paper-button>
            </div>


            <div class="main-body-ad">
                <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
                <!-- ring responsive ad -->
                <ins class="adsbygoogle"
                     style="display:block"
                     data-ad-client="ca-pub-7026363262140448"
                     data-ad-slot="9800560950"
                     data-ad-format="auto"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>

            <div class="ring-spinner">
                <paper-spinner id="main-spinner" role="progressbar" aria-label="loading"></paper-spinner>
            </div>

        </paper-header-panel>
    </paper-drawer-panel>

</template>

<script src="/scripts/zutils.js"></script>
<script src="/scripts/router.js"></script>
<script src="/scripts/ringview.js"></script>

<script src="/scripts/search.js"></script>
<!-- build:js /scripts/app.js -->
<script src="/scripts/app.js"></script>
<!-- endbuild-->
</body>

</html>
