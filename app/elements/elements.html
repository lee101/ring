<link rel="import" href="/bower_components/paper-drawer-panel/paper-drawer-panel.html">

<link rel="import" href="/bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="/bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">

<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="/bower_components/paper-button/paper-button.html">
<link rel="import" href="/bower_components/paper-spinner/paper-spinner.html">
<link rel="import" href="/bower_components/paper-input/paper-input.html">

<link rel="import" href="/bower_components/paper-menu/paper-menu.html">
<link rel="import" href="/bower_components/paper-item/paper-item.html">
<!--
<link rel="import" href="/bower_components/core-tooltip/core-tooltip.html">
<link rel="import" href="/bower_components/font-roboto/roboto.html">
-->

<!-- Add your elements here -->
<dom-module id="ring-submenu" extends="core-submenu">
    <template>
        <link rel="stylesheet" href="/bower_components/core-menu/core-submenu.css">

        <core-item id="submenuItem" src="{{src}}" label="{{label}}" icon="{{icon}}"
                   class="{{ {'core-selected' : $.submenu.selectedItem} | tokenList}}" on-tap="{{activate}}">
            <content select=".item-content"></content>
        </core-item>

        <core-menu id="submenu" selected="{{selected}}" selectedItem="{{selectedItem}}"
                   selectedAttribute="{{selectedAttribute}}" valueattr="{{valueattr}}">
            <content></content>
        </core-menu>

        <core-collapse target="{{$.submenu}}" opened="{{opened}}"></core-collapse>

    </template>
</dom-module>
<script>
    Polymer({
        is: 'ring-submenu',
        activate: function () {
            if (this.hasItems() && this.active) {
                this.toggle();
            }
        },
        activeChanged: function () {
            if (!this.active) {
                this.unselectAllItems();
            }
        }
    });
</script>
